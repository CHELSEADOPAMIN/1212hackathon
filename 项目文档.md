# Lyrathon - 下一代 AI 原生招聘匹配平台方案

## 1. 项目背景与愿景

**痛点：** 传统招聘过分依赖关键词匹配（Keyword Matching）和候选人自吹自擂的简历文本。HR 难以甄别“培训班简历”与“真实战力”，候选人也难以发现字面上不匹配但能力高度契合的岗位。

**愿景：** Lyrathon 致力于构建一个**基于“真实代码行为”与“深度语义理解”**的 AI 招聘平台。我们不看你写了什么，看你做了什么；我们不只告诉你“匹配”，还告诉你“为什么匹配”。

---

## 2. 核心功能亮点 (Key Features)

### 2.1 ‘废除’简历，多维度记录真实能力
* **体验：** 候选人无需死板填写繁琐表单，只需尽可能提供自己的求职需要用到的信息，例如个人情况，个人简历，github账户，linkedin账户，个人博客，网站等单。
* **原理：** 系统不再靠硬性规定的条件筛选用户，用户的所有数据会被存储在mongodb的一个代表用户实力的字段里，该字段会被向量化存入向量数据库，以便后续的向量匹配，帮助公司找到最合适的候选人。
* **核心逻辑：**
    * **github分析逻辑：**
        * **原创性判定：** 智能区分简单的 `fork` 与有实质 Commit 的开源贡献。
        * **影响力计算：** 基于原创项目的 Star 数和社区活跃度。
        * **画像生成：** 自动生成五维技能雷达图（如：React 架构力、后端系统设计、算法深度等）及 AI 职业总结。

### 2.2 双塔向量匹配引擎 (Bi-Directional Vector Matching)
* **机制：** 将“候选人画像”与“岗位 JD”都放到向量数据库中存储（不同的集合），但都使用一套流程，实现用户可以自己检索匹配的岗位，公司也可以检索匹配的候选人。
* **优势：** 突破关键词限制，实现语义级匹配。
    * *场景：* 即使简历里没写“高并发”，但 GitHub 代码里有大量 Rust 异步处理逻辑，依然能被 AI 识别并推荐给高性能计算岗位。

### 2.3 RAG 智能推荐理由 (Explainable AI)
* **功能：** 不仅仅给出匹配度（如 98%），还提供**可解释性**。
* **实现：** 利用 RAG（检索增强生成）技术，将候选人简历片段与岗位描述结合，由 LLM 生成一句话匹配语句（必须是中肯中立的评价，直叙用户的合适之处和不合适之处）。
    * *示例：* “该候选人匹配度 98%，因为其在 PyTorch 社区的贡献记录完美契合本岗位的 AI 基础设施优化需求。”

### 2.4 AI 异步面试间 (The AI Interview)
* **体验：** 沉浸式视频面试界面。
* **流程：** AI 面试官根据简历自动出题 -> 候选人实时录制回答 -> 系统自动提交并预判评分。
* **价值：** 极大提高初筛效率，让 HR 在睡觉时也能完成人才筛选。

---

## 3. 技术架构 (Technical Architecture)

### 3.1 数据摄入层 (Ingestion Layer)
* **GitHub Extractor:** 负责调用 GitHub API，清洗数据，过滤无效 Fork，提取核心技术栈。
* **Pipeline:** 清洗后的数据 -> OpenAI Embedding 模型 -> 1536维向量 -> 存入数据库。

### 3.2 存储与索引层 (Storage & Indexing)
* **Database:** MongoDB Atlas。
* **混合存储:**
    * **Document:** 存储人类可读的 JSON（用户信息，用户简历，用户github账户信息，用户linkedin账户信息，用户个人博客，用户个人网站等）。
    * **Vector:** 存储机器可读的 Embedding 数组。
* **Search Index:** 配置 MongoDB Atlas Vector Search 索引，支持余弦相似度（Cosine Similarity）计算。

### 3.3 智能应用层 (Application Layer)
* **Matching:** 使用 MongoDB Aggregation Pipeline (`$vectorSearch`) 进行毫秒级召回。
* **RAG:** 使用 OpenAI GPT-5.1 模型处理 Top-K 结果，生成自然语言分析（必须是中肯中立的评价，直叙用户的合适之处和不合适之处）。

---

## 4. 技术栈选型 (Tech Stack)

* **前端框架:** Next.js 14 (App Router)
* **UI 组件库:** Shadcn UI + Tailwind CSS (Cyberpunk 风格)
* **数据可视化:** Recharts (用于绘制技能雷达图)
* **数据库:** MongoDB Atlas (含 Vector Search)
* **AI 模型:** OpenAI (GPT-5.1, Embedding-1536)
* **AI 框架:** Vercel AI SDK
* **第三方集成:** GitHub REST API

---

## 5. 核心业务流程 (User Flow)

候选人端：
0.  **用户注册:**
    * 用户注册并填写个人情况，个人简历，github账户，linkedin账户，个人博客，网站等。
    数据将被存到mongodb数据库和向量数据库中。
1.  **智能匹配:**
    * 系统自动根据候选人向量，在毫秒级内从 MongoDB的岗位数据库召回最匹配的岗位。
    * AI 生成推荐理由（中立陈述用户适配和不足）：“你非常适合这个岗位，因为你的xxx技能和xxx经验与岗位需求完美契合，但你的xxx技能和xxx经验与岗位需求不太契合，需要注意。”
2. **意向确定:**
    * 候选人在job tinder页面对自己感兴趣的岗位进行喜欢或不喜欢，如果候选人和公司互相喜欢，则进入交流面试环节。
3.  **交流与面试环节:**
    * 候选人能和公司进行交流对话，顺利的话能进入下一步面试环节。
4.  **面试环节:**
    * 候选人进入虚拟面试间，完成AI面试流程。
5.  **竞价环节:**
    * 公司对用户满意，后续的面试流程也完成了，就可以给用户发offer，用户可以被多家公司竞价，用户可以选择自己最满意的offer。

公司端：
0.  **职位发布：**
    * 公司注册并完善企业信息，发布开放职位，详细填写岗位要求（硬技能、软技能、项目经验等）。
1.  **智能筛选：**
    * 系统自动将岗位信息转化为向量，实时检索最匹配的人才，并生成候选人推荐列表。
    * AI 提供每位候选人的中立适配度分析，协助HR高效筛选简历。
2.  **HR意向：**
    * HR 在候选人tinder页面对自己感兴趣的候选人进行喜欢或不喜欢，如果候选人和公司互相喜欢，则进入交流面试环节。
3.  **智能交流与安排：**
    * 支持HR与候选人在线交流，如果满意则进入面试环节，HR留下要问的问题，系统可协助安排AI面试流程。
4.  **面试与反馈：**
    * 面试过程可部分由AI完成实时评估；HR可在系统内打分、生成反馈，整体数据沉淀便于后续优化招聘策略。
5.  **竞价环节:**
    * 公司对用户满意，后续的面试流程也完成了，就可以给用户发offer，用户可以被多家公司竞价，用户可以看到其他公司给该用户开的条件，以便灵活调整流程或待遇，确保公司有竞争的手段可以拿到心仪的候选人。


---

## 6. 创新价值总结

Lyrathon 不仅仅是一个招聘网站，它是一个**把“非结构化代码能力”转化为“结构化人才资产”**的智能引擎，废弃了信息不全面的简历文本，改为互相记录多维数据真实能力。通过 MongoDB 的混合搜索能力与 OpenAI 的理解能力，我们解决了招聘中最核心的“人岗匹配”效率问题。
还注重将所有传统面试流程中的实时环节改为异步，例如双方随时可以留言交流，随时可以进入面试。
还有透明竞价环节，实现了对公司和候选人都有利的双向透明竞争流程。


## 7. 目前已做的Mongodb配置(Database Configuration)

目前项目后端已完成 MongoDB Atlas 云数据库的部署与核心配置，具体参数如下：

### 7.1 基础环境

  * **平台:** MongoDB Atlas (Cloud)
  * **集群类型:** M0 Sandbox (Free Tier)
  * **服务商/地区:** AWS / Sydney (ap-southeast-2)
  * **数据库名称 (Database Name):** `lyrathon`

### 7.2 集合结构 (Collections)

数据库包含两个核心集合，均采用 **混合存储模式**（JSON 文档 + Vector 数组）：

1.  **`candidates` (候选人表)**
      * 存储内容：个人基本信息、GitHub 分析结果（雷达图数据）、简历原文、硬指标（薪资/地点）。
      * 关键字段：`embedding` (1536维数组), `raw_text_for_rag` (用于生成推荐理由的文本)。
2.  **`jobs` (岗位表)**
      * 存储内容：职位名称、公司信息、JD 描述、薪资范围。
      * 关键字段：`embedding` (1536维数组), `skills` (技能标签)。

### 7.3 向量搜索索引 (Vector Search Index)

为了支持 AI 语义匹配，已在 `candidates` 和 `jobs` 两个集合上分别创建了 Atlas Vector Search Index。

  * **索引名称 (Index Name):** `vector_index`
  * **索引类型:** JSON Editor 配置
  * **维度 (Dimensions):** 1536 (适配 OpenAI Embedding 模型)
  * **相似度算法 (Similarity):** Cosine (余弦相似度)
  * **具体配置代码:**

<!-- end list -->

```json
{
  "fields": [
    {
      "type": "vector",
      "path": "embedding",
      "numDimensions": 1536,
      "similarity": "cosine"
    }
  ]
}
```

### 7.4 连接与安全

  * **连接方式:** 使用 MongoDB Node.js Driver 通过 Connection String 连接。
  * **网络访问 (Network Access):** 已配置 IP 白名单为 `0.0.0.0/0` (Allow Access from Anywhere)，确保本地开发环境与 Vercel 部署环境均可无障碍连接。
  * **认证:** 使用 SCRAM (Username/Password) 认证方式，凭证存储于 `.env.local` 环境变量中。